on: [push]

jobs:
  test:
    runs-on: ubuntu-latest
    name: Test action
    steps:
      # To use this repository's private action,
      # you must check out the repository
      - name: Checkout
        uses: actions/checkout@v2
      - name: Hello world action step
        uses: ./ # Uses an action in the root directory
        id: hello
        with:
          token: ${{ github.token }}
          exec: |
            options:
              - on:
                  files:
                  - key: ci
                    files:
                    - '.github/**/*.y?(a)ml'
                    match: all
                  - key: action
                    files:
                    - "!.github"
                    - "**/*.[tj]s"
                  push:
                    branches:
                    - main
                    - dev
                    tags:
                    - /v\d+\.\d+\.\d+$/
